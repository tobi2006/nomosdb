{% extends "base.html" %}
{% block content %}

<h1>{{ headline }}</h1>

{% if students %}

<table id ="sortable_table" class="table table-striped table-sortable">
    <thead>
        <tr>
            <th>
                &nbsp;
            </th>
            {% if show_year %}
                <th>
                    Year
                </th>
            {% endif %}
            <th>
                Student
            </th>
            <th>
                ID
            </th>
            <th>
                Course
            </th>
            <th>
                Tutor
            </th>
        </tr>
    </thead>
    <tbody>
        {% for student in students %}
            <tr>
                <td>
                    <input type="checkbox" name="selected_student_id" value="{{ student.student_id }}">
                </td>
                {% if show_year %}
                    <td>
                        Year
                    </td>
                {% endif %}
                <td>
                    {{ student.short_name }}
                </td>
                <td>
                    {{ student.student_id }}
                </td>
                <td>
                    {{ student.course }}
                </td>
                <td>
                    &nbsp;
                </td>
            </tr>
        {% endfor %}
    </tbody>
</table>

{% else %}

<p>There are no students in this category</p>

{% endif %}

{% endblock %}

{% block loadscripts %}
<script src="{{ STATIC_URL }}js/bootbox.min.js"></script>
{% endblock %}

{% block scripts %}

<script type="text/javascript">

{% comment %}
    $(document).ready(function(){

        $(document).on("click", ".remove", function(e) {
            bootbox.confirm("Are you sure you want to remove this student from the module and delete all marks the students might have in this module? If the student is just temporary absent, it is better to mark them inactive.", function(confirm) {
                if (confirm)
                {
                var student_id = e.target.id;
                var remove = "{{ module.get_blank_remove_student_url }}" + student_id;
                window.location.replace(remove);
                }
            });
        });

    });
{% endcomment %}

</script>

{% endblock %}
